language: cpp
sudo: required
# Only build master branch on push, other branches will get built when
# they are turned into pull-requests
branches:
    only:
        - master
        - /^test-.*$/
matrix:
    # This marks the build as failed as soon as something goes wrong
    fast_finish: true

    # Manually specify the matrix:
    # Test Qt4 on precise
    # test Qt5 on trusty (triggered via services: docker)
    include:
        - os: linux
          env: QT_VERSION=4
          compiler: gcc
        - os: linux
          env: QT_VERSION=4
          compiler: clang
        - os: linux
          dist: trusty
          env: QT_VERSION=5
          compiler: gcc
        - os: linux
          dist: trusty
          env: QT_VERSION=5
          compiler: clang
        - os: linux
          dist: trusty
          env: QT_VERSION=5 BOOST_STATIC=1
          compiler: gcc
        - os: osx
          env: QT_VERSION=4
          compiler: clang
install:
 - _travis/install_dependencies
 - _travis/compile
script: _travis/test
